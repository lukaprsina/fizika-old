Expression.flatten() -> bool:

for product, pos in self.products:        
    for node or expression in product:
        if expression && expression.flatten() && product.numerator.len() <= 1:                        
            self.products.append(expression.products)
            delete expression

if self.products.len() <= 1:
    return Mononomial

bool can_flatten = Polynomial

for product in self.products:
    if product.numerator.contains equation:
        can_flatten = NotPossible
        break

return can_flatten