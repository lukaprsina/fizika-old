
Case: 1+(2+3)+4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    1,
                                                                ),
                                                            ),
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                ],
                                denominator: [],
                            },
                            Product {
                                sign: Positive,
                                numerator: [
                                    Node(
                                        Number(
                                            Int(
                                                4,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        E:
            P:
                +1
            E:
                P:
                    +2
                P:
                    +3
    P:
        +4

E:
    P:
        +1
    P:
        +2
    P:
        +3
    P:
        +4

Converted back:
(1 + (2 + 3)) + 4

--------------------------------------------------------------------------------

Case: 1*(2+3)+4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    1,
                                                                ),
                                                            ),
                                                        ),
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                ],
                                denominator: [],
                            },
                            Product {
                                sign: Positive,
                                numerator: [
                                    Node(
                                        Number(
                                            Int(
                                                4,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        +1
        E:
            P:
                +2
            P:
                +3
    P:
        +4

Converted back:
(1 * (2 + 3)) + 4

--------------------------------------------------------------------------------

Case: 1+(2*3)+4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    1,
                                                                ),
                                                            ),
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                ],
                                denominator: [],
                            },
                            Product {
                                sign: Positive,
                                numerator: [
                                    Node(
                                        Number(
                                            Int(
                                                4,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        +1
    P:
        +2
        +3
    P:
        +4

Converted back:
(1 + (2 * 3)) + 4

--------------------------------------------------------------------------------

Case: 1*(2*3)+4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    1,
                                                                ),
                                                            ),
                                                        ),
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                ],
                                denominator: [],
                            },
                            Product {
                                sign: Positive,
                                numerator: [
                                    Node(
                                        Number(
                                            Int(
                                                4,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        +1
        +2
        +3
    P:
        +4

Converted back:
(1 * (2 * 3)) + 4

--------------------------------------------------------------------------------

Case: 1+(2+3)*4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Node(
                                        Number(
                                            Int(
                                                1,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    4,
                                                                ),
                                                            ),
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        +1
    P:
        E:
            P:
                +2
                +3                    
        +4

Converted back:
1 + ((2 + 3) * 4)

--------------------------------------------------------------------------------

Case: 1*(2+3)*4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    1,
                                                                ),
                                                            ),
                                                        ),
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                    Node(
                                        Number(
                                            Int(
                                                4,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        +1
        E:
            P:
                +2
            P:
                +3
        +4

Converted back:
(1 * (2 + 3)) * 4

--------------------------------------------------------------------------------

Case: 1+(2*3)*4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Node(
                                        Number(
                                            Int(
                                                1,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    4,
                                                                ),
                                                            ),
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        +1
    P:
        +2
        +3
        +4

Converted back:
1 + ((2 * 3) * 4)

--------------------------------------------------------------------------------

Case: 1*(2*3)*4

Ok(
    Equation {
        expressions: [
            (
                Expression(
                    Expression {
                        products: [
                            Product {
                                sign: Positive,
                                numerator: [
                                    Expression(
                                        Expression {
                                            products: [
                                                Product {
                                                    sign: Positive,
                                                    numerator: [
                                                        Node(
                                                            Number(
                                                                Int(
                                                                    1,
                                                                ),
                                                            ),
                                                        ),
                                                        Expression(
                                                            Expression {
                                                                products: [
                                                                    Product {
                                                                        sign: Positive,
                                                                        numerator: [
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        2,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                            Node(
                                                                                Number(
                                                                                    Int(
                                                                                        3,
                                                                                    ),
                                                                                ),
                                                                            ),
                                                                        ],
                                                                        denominator: [],
                                                                    },
                                                                ],
                                                            },
                                                        ),
                                                    ],
                                                    denominator: [],
                                                },
                                            ],
                                        },
                                    ),
                                    Node(
                                        Number(
                                            Int(
                                                4,
                                            ),
                                        ),
                                    ),
                                ],
                                denominator: [],
                            },
                        ],
                    },
                ),
                None,
            ),
        ],
    },
)

E:
    P:
        +1
        +2
        +3
        +4

Converted back:
(1 * (2 * 3)) * 4

--------------------------------------------------------------------------------
